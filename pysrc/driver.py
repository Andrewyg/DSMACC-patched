"""
This file is an example of how to use dsmacc in python
"""
from dsmacc import model, dynenv

# mod = model();
# alternatively, use a file ('test.dat') to make a dynamic
# physical environment. Add variables as you see fit.
# 
import pandas as pd
import io
envdata = pd.read_csv(io.StringIO("""JDAY_GMT,TEMP,PBL
2000172.0,288.15,250.0
2000172.04167,288.15,250.0
2000172.08333,288.15,250.0
2000172.125,288.15,250.0
2000172.16667,288.15,250.0
2000172.20833,288.16,300.0
2000172.25,289.0,550.0
2000172.29167,292.75,850.0
2000172.33333,295.93,1120.0
2000172.375,298.52,1300.0
2000172.41667,300.55,1400.0
2000172.45833,302.0,1475.0
2000172.5,302.86,1500.0
2000172.54167,303.15,1500.0
2000172.58333,302.86,1500.0
2000172.625,302.0,1500.0
2000172.66667,300.55,1500.0
2000172.70833,298.53,1500.0
2000172.75,295.93,1500.0
2000172.79167,292.75,1500.0
2000172.83333,289.0,1500.0
2000172.875,288.15,250.0
2000172.91667,288.15,250.0
2000172.95833,288.15,250.0
2000173.0,288.15,250.0
""")).to_dict(orient = 'list')

emissdata = pd.read_csv(io.StringIO("""JDAY_GMT,ALD2,ALDX,CH4,CO,ETHE,C2H6,ETOH,CH2O,HONO,BUT1ENE,ISOP,CH3OH,NO,NO2,PRPE,ALK4,SO2,APINENE,TOLUENE,OXYL
2000172.00000,6.79e-15,2.35e-15,1.43e-14,2.61e-13,1.64e-14,5.38e-15,1.66e-14,1.37e-14,3.13e-16,1.52e-14,1.01e-17,1.39e-15,4.73e-14,4.23e-15,1.78e-14,3.77e-14,1.33e-15,3.14e-14,1.34e-15,1.00e-15
2000172.04167,6.44e-15,2.22e-15,1.36e-14,2.28e-13,1.55e-14,5.04e-15,1.57e-14,1.30e-14,2.86e-16,1.45e-14,9.65e-18,1.32e-15,4.39e-14,3.89e-15,1.69e-14,3.53e-14,1.24e-15,2.99e-14,1.20e-15,8.91e-16
2000172.08333,6.17e-15,2.13e-15,1.32e-14,2.12e-13,1.48e-14,4.82e-15,1.51e-14,1.25e-14,2.73e-16,1.39e-14,9.38e-18,1.29e-15,4.22e-14,3.73e-15,1.62e-14,3.37e-14,1.19e-15,2.87e-14,1.13e-15,8.36e-16
2000172.12500,5.97e-15,2.07e-15,1.32e-14,2.12e-13,1.43e-14,4.71e-15,1.47e-14,1.21e-14,2.74e-16,1.34e-14,9.31e-18,1.30e-15,4.21e-14,3.72e-15,1.57e-14,3.29e-14,1.20e-15,2.77e-14,1.13e-15,8.40e-16
2000172.16667,5.84e-15,2.03e-15,1.38e-14,2.40e-13,1.41e-14,4.76e-15,1.44e-14,1.18e-14,2.99e-16,1.31e-14,9.38e-18,1.38e-15,4.50e-14,3.99e-15,1.54e-14,3.34e-14,1.29e-15,2.69e-14,1.25e-15,9.44e-16
2000172.20833,5.79e-15,2.01e-15,1.56e-14,3.22e-13,1.43e-14,5.04e-15,1.45e-14,1.17e-14,3.77e-16,1.28e-14,1.01e-17,1.54e-15,5.42e-14,4.89e-15,1.53e-14,3.56e-14,1.51e-15,2.63e-14,1.55e-15,1.21e-15
2000172.25000,5.92e-15,2.05e-15,2.04e-14,5.27e-13,1.53e-14,5.73e-15,1.50e-14,1.19e-14,5.46e-16,1.28e-14,1.19e-17,1.80e-15,7.39e-14,6.74e-15,1.59e-14,4.15e-14,1.88e-15,2.58e-14,2.33e-15,1.91e-15
2000172.29167,6.16e-15,2.12e-15,2.58e-14,7.37e-13,1.66e-14,6.63e-15,1.59e-14,1.22e-14,7.21e-16,1.31e-14,1.53e-14,6.31e-15,9.46e-14,8.72e-15,1.70e-14,4.93e-14,2.35e-15,2.58e-14,3.28e-15,2.72e-15
2000172.33333,6.88e-15,2.37e-15,2.92e-14,8.65e-13,1.85e-14,7.69e-15,1.80e-14,1.36e-14,7.95e-16,1.45e-14,9.15e-14,2.77e-14,1.05e-13,9.63e-15,2.01e-14,5.93e-14,2.83e-15,2.83e-14,4.17e-15,3.37e-15
2000172.37500,8.01e-15,2.78e-15,3.01e-14,8.88e-13,2.07e-14,8.73e-15,2.11e-14,1.61e-14,7.98e-16,1.69e-14,2.19e-13,6.26e-14,1.07e-13,9.87e-15,2.46e-14,6.98e-14,3.33e-15,3.30e-14,4.84e-15,3.78e-15
2000172.41667,9.28e-15,3.21e-15,3.24e-14,9.65e-13,2.37e-14,9.86e-15,2.47e-14,1.85e-14,8.18e-16,1.97e-14,3.78e-13,1.05e-13,1.11e-13,1.02e-14,3.01e-14,8.20e-14,3.64e-15,3.87e-14,5.74e-15,4.39e-15
2000172.45833,1.08e-14,3.72e-15,3.51e-14,1.09e-12,2.72e-14,1.10e-14,2.89e-14,2.18e-14,8.79e-16,2.29e-14,5.39e-13,1.46e-13,1.20e-13,1.09e-14,3.60e-14,9.54e-14,4.01e-15,4.52e-14,6.79e-15,5.09e-15
2000172.50000,1.23e-14,4.18e-15,3.59e-14,1.15e-12,3.03e-14,1.19e-14,3.31e-14,2.46e-14,9.13e-16,2.61e-14,6.62e-13,1.78e-13,1.25e-13,1.14e-14,4.10e-14,1.08e-13,4.19e-15,5.18e-14,7.77e-15,5.64e-15
2000172.54167,1.37e-14,4.62e-15,3.62e-14,1.21e-12,3.29e-14,1.26e-14,3.70e-14,2.75e-14,9.26e-16,2.88e-14,7.44e-13,1.99e-13,1.27e-13,1.16e-14,4.50e-14,1.19e-13,4.45e-15,5.74e-14,8.86e-15,6.20e-15
2000172.58333,1.46e-14,4.95e-15,3.65e-14,1.26e-12,3.49e-14,1.31e-14,3.91e-14,2.96e-14,9.55e-16,3.08e-14,8.06e-13,2.15e-13,1.31e-13,1.21e-14,4.79e-14,1.24e-13,4.63e-15,6.16e-14,8.99e-15,6.29e-15
2000172.62500,1.49e-14,5.06e-15,3.81e-14,1.34e-12,3.65e-14,1.35e-14,3.72e-14,3.00e-14,1.02e-15,3.18e-14,8.31e-13,2.22e-13,1.38e-13,1.28e-14,4.98e-14,1.14e-13,4.46e-15,6.43e-14,6.75e-15,5.28e-15
2000172.66667,1.48e-14,5.04e-15,3.81e-14,1.35e-12,3.68e-14,1.35e-14,3.65e-14,2.98e-14,1.04e-15,3.20e-14,8.21e-13,2.20e-13,1.39e-13,1.29e-14,5.01e-14,1.09e-13,4.21e-15,6.50e-14,5.97e-15,4.89e-15
2000172.70833,1.45e-14,4.93e-15,3.68e-14,1.30e-12,3.59e-14,1.30e-14,3.57e-14,2.92e-14,9.79e-16,3.14e-14,7.38e-13,1.99e-13,1.32e-13,1.22e-14,4.82e-14,1.05e-13,3.98e-15,6.36e-14,5.71e-15,4.66e-15
2000172.75000,1.37e-14,4.67e-15,3.35e-14,1.12e-12,3.37e-14,1.21e-14,3.37e-14,2.76e-14,8.45e-16,2.97e-14,5.57e-13,1.53e-13,1.16e-13,1.06e-14,4.35e-14,9.67e-14,3.71e-15,6.02e-14,5.13e-15,4.15e-15
2000172.79167,1.24e-14,4.23e-15,2.93e-14,8.97e-13,3.02e-14,1.11e-14,3.08e-14,2.48e-14,7.13e-16,2.71e-14,3.21e-13,9.07e-14,1.00e-13,9.12e-15,3.68e-14,8.51e-14,3.38e-15,5.49e-14,4.30e-15,3.45e-15
2000172.83333,1.07e-14,3.69e-15,2.56e-14,7.18e-13,2.62e-14,9.81e-15,2.66e-14,2.16e-14,6.07e-16,2.35e-14,1.07e-13,3.18e-14,8.67e-14,7.81e-15,2.94e-14,7.13e-14,2.98e-15,4.74e-14,3.48e-15,2.79e-15
2000172.87500,1.08e-14,3.73e-15,2.56e-14,7.21e-13,2.64e-14,9.86e-15,2.69e-14,2.18e-14,6.07e-16,2.38e-14,1.02e-13,3.03e-14,8.63e-14,7.82e-15,2.95e-14,7.16e-14,2.98e-15,4.79e-14,3.48e-15,2.79e-15
2000172.91667,9.11e-15,3.13e-15,2.11e-14,5.32e-13,2.23e-14,8.18e-15,2.27e-14,1.82e-14,5.05e-16,2.03e-14,1.30e-15,2.43e-15,7.24e-14,6.57e-15,2.40e-14,5.76e-14,2.30e-15,4.10e-14,2.61e-15,2.06e-15
2000172.95833,8.02e-15,2.76e-15,1.81e-14,4.14e-13,1.96e-14,6.86e-15,1.98e-14,1.61e-14,4.26e-16,1.79e-14,1.18e-17,1.76e-15,6.18e-14,5.57e-15,2.11e-14,4.80e-14,1.82e-15,3.65e-14,2.01e-15,1.57e-15
2000173.00000,7.30e-15,2.52e-15,1.58e-14,3.25e-13,1.77e-14,5.95e-15,1.79e-14,1.47e-14,3.60e-16,1.63e-14,1.08e-17,1.52e-15,5.33e-14,4.78e-15,1.92e-14,4.19e-14,1.51e-15,3.35e-14,1.63e-15,1.24e-15
""")).to_dict(orient = 'list')

initcond = dict(O3 = 30., CO = 120., CH4 = 1750., NO = 0.01, NO2 = 0.1)
mod = dynenv(envdata = envdata, emissdata = emissdata, bkgdata = initcond, modelname = 'geoschem') # model()
mod.run(2000172.0, 24, 180, conc_ppb = initcond, globvar = dict(LAT = 30., LON = 0, TEMP = 298., PRESS = 101325.))
mod.save()